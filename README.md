# berkalpyakici.com
This repository contains source files of [my website](http://berkalpyakici.com), built with Django and React.

## Requirements
* [Python >= 3.7](https://www.python.org)
* [React >= 16.8](https://reactjs.org)
* [virtualenv](https://virtualenv.pypa.io/en/latest/)

## Project Structure
This project consists of a backend (built with Django v2.2) and a frontend (built with React v16.8).

`app/`: This directory stores the main Django files like settings, urls, and wsgi.  
`core/`: This is a Django project application that manages the models (settings) for the landing page (aka core website settings).  
`staticfiles/`: This directory is empty and is meant to store static files generated by Django.  
`webview/`: This directory stores all files for React frontend framework.

## Installation (on Dev Platform)
Clone this repository to your desktop:
```bash
git clone https://github.com/berkalpyakici/berkalpyakici.com
```

Enter the directory and create a virtual environment for Python packages:
```bash
cd berkalpyakici.com/
virtualenv .venv
```

Activate the virtual environment:
```bash
source .venv/bin/activate
```

Install required Python packages:
```bash
pip install -r requirements.txt
```

Since this is a local dev build, we need to create a test database. Add `local_settings.py` into `app/`, where `settings.py` 
file is located at:
```bash
touch app/local_settings.py
```

Open `local_settings.py` with your favorite editor and add the following:
```bash
vim app/local_settings.py
```
```bash
import os
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
    }
}
```

Migrate the database (I use PostgreSQL, but Django supports [many](https://docs.djangoproject.com/en/2.2/ref/databases/) database engines):
```bash
python app/manage.py migrate
```

Create a super user (admin account), and follow the instructions:
```bash
python app/manage.py createsuperuser
```

Install NPM packages and build React webview:
```bash
cd webview/
yarn install
yarn run build
cd ..
```

Run Django server:
```bash
python app/manage.py runserver
```

The server is now live on `localhost:8000`.

## Installation (Using Heroku)
Luckly for you, this repository is structured to allow Heroku to directly build after push to `master`. However, there are still some settings that need to be added on Heroku dashboard to start using berkalpyakici.com.

To be continued...